document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));const e=document.querySelector(".form-validate");if(e){const t=e.querySelectorAll(".input-group__input");e.addEventListener("submit",e=>{let o=t.length;for(let e of t){const t=e.parentNode.nextElementSibling;!1===e.validity.valid?(t.className="input-group__error input-group__error--active",t.textContent="Значение введено неверно"):(o-=1,t.className="input-group__error",t.textContent="")}if(o<1)for(let e of t)e.value="";else e.preventDefault()})}function t(e){let t=document.getElementById(e),o=t.offsetTop,n=t;for(;n.offsetParent&&n.offsetParent!=document.body;)n=n.offsetParent,o+=n.offsetTop;return o}function o(e){let o=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,n=t(e),l=n>o?n-o:o-n;if(l<100)return void scrollTo(0,n);let c=Math.round(l/100);c>=20&&(c=20);let r=Math.round(l/25),s=n>o?o+r:o-r,i=0;if(n>o)for(let e=o;e<n;e+=r)setTimeout("window.scrollTo(0, "+s+")",i*c),s+=r,s>n&&(s=n),i++;else for(let e=o;e>n;e-=r)setTimeout("window.scrollTo(0, "+s+")",i*c),s-=r,s<n&&(s=n),i++}const n=document.querySelector(".promocode__trigger");n&&n.addEventListener("click",e=>{e.preventDefault(),n.classList.add("promocode__trigger--hidden"),n.nextElementSibling.classList.add("promocode__wrapper--active")});const l=document.querySelectorAll(".quantity"),c=document.getElementsByClassName("quantity__minus"),r=document.getElementsByClassName("quantity__plus");let s=document.getElementsByClassName("quantity__number");l&&l.forEach((e,t)=>{c[t].addEventListener("click",()=>{1*s[t].value>=1&&(s[t].value=1*s[t].value-1)}),r[t].addEventListener("click",()=>{s[t].value=1*s[t].value+1})});const i=document.querySelectorAll(".select-box__selected"),a=document.querySelectorAll(".select-box__option");i&&i.forEach(e=>{const t=()=>{document.querySelectorAll(".select-box__container").forEach(e=>e.classList.remove("select-box__container--active")),document.querySelectorAll(".select-box__selected").forEach(e=>e.classList.remove("select-box__selected--active"))},o=((e,t)=>{const o=o=>{let l=o.target;for(;l&&!e.includes(l);)l=l.parentNode;l||(t(),n())};function n(){document.documentElement.removeEventListener("click",o)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",o)},removeBodyChecker:n}})([e.parentNode.parentNode.parentNode,...i],t);e.addEventListener("click",()=>{e.previousElementSibling.classList.contains("select-box__container--active")?t():(t(),e.previousElementSibling.classList.add("select-box__container--active"),e.classList.add("select-box__selected--active"),o.setBodyChecker())})}),a&&a.forEach(e=>{e.addEventListener("click",t=>{if(t.preventDefault(),!e.classList.contains("select-box__option--disabled")){e.parentNode.querySelector(".select-box__option--active").classList.remove("select-box__option--active"),e.parentNode.nextElementSibling.innerHTML=e.querySelector("label").innerHTML,e.classList.add("select-box__option--active"),e.parentNode.classList.remove("select-box__container--active"),e.parentNode.nextElementSibling.classList.remove("select-box__selected--active")}})});const d=document.querySelector(".scroll-total__btn"),u=document.querySelectorAll(".cart-product__item");d&&u&&u.length<2&&d.parentNode.classList.add("scroll-total--hidden"),d&&d.addEventListener("click",()=>{o("ordering"),d.parentNode.classList.add("scroll-total--hidden")}),window.addEventListener("scroll",()=>{if(u&&u.length>1){const e=t("ordering");window.pageYOffset>=e-300?d.parentNode.classList.add("scroll-total--hidden"):window.pageYOffset<e-500&&d.parentNode.classList.remove("scroll-total--hidden")}});const m=document.querySelectorAll(".delivery-cart__trigger");m&&(m.forEach(e=>{e.parentNode.style.setProperty("max-height",e.getBoundingClientRect().height+"px")}),m.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let o=e.getBoundingClientRect().height,n=e.nextElementSibling.clientHeight;e.parentNode.classList.contains("delivery-cart__item--active")?(e.parentNode.classList.remove("delivery-cart__item--active"),e.parentNode.style.setProperty("max-height",o+"px")):(m.forEach(e=>{e.parentNode.style.setProperty("max-height",e.getBoundingClientRect().height+"px"),e.parentNode.classList.remove("delivery-cart__item--active")}),e.parentNode.classList.add("delivery-cart__item--active"),e.parentNode.style.setProperty("max-height",o+n+"px"))})}))}));