document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));const e=document.querySelector(".form-validate");if(e){const t=e.querySelectorAll(".input-group__input");e.addEventListener("submit",e=>{let o=t.length;for(let e of t){const t=e.parentNode.nextElementSibling;!1===e.validity.valid?(t.className="input-group__error input-group__error--active",t.textContent="Значение введено неверно"):(o-=1,t.className="input-group__error",t.textContent="")}if(o<1)for(let e of t)e.value="";else e.preventDefault()})}function t(e){let t=document.getElementById(e),o=t.offsetTop,n=t;for(;n.offsetParent&&n.offsetParent!=document.body;)n=n.offsetParent,o+=n.offsetTop;return o}function o(e){let o=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,n=t(e),r=n>o?n-o:o-n;if(r<100)return void scrollTo(0,n);let s=Math.round(r/100);s>=20&&(s=20);let l=Math.round(r/25),i=n>o?o+l:o-l,c=0;if(n>o)for(let e=o;e<n;e+=l)setTimeout("window.scrollTo(0, "+i+")",c*s),i+=l,i>n&&(i=n),c++;else for(let e=o;e>n;e-=l)setTimeout("window.scrollTo(0, "+i+")",c*s),i-=l,i<n&&(i=n),c++}let n=(e,t=400)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling.style.pointerEvents="none",window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"},t),e.parentNode.classList.remove("is--open")},r=(e,t=400)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling.style.pointerEvents="none",window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling.style.pointerEvents="auto"},t),e.parentNode.classList.add("is--open")};const s=document.querySelector(".promocode__trigger"),l=document.querySelector(".promocode__input"),i=document.querySelector(".promocode__btn");s&&s.addEventListener("click",e=>{e.preventDefault(),s.classList.add("promocode__trigger--hidden"),s.nextElementSibling.classList.add("promocode__wrapper--active")}),i&&i.addEventListener("click",e=>{e.preventDefault(),l.value.length<1?l.parentNode.parentNode.classList.add("promocode--error"):(l.parentNode.parentNode.classList.contains("promocode--error")&&l.parentNode.parentNode.classList.remove("promocode--error"),l.parentNode.parentNode.classList.add("promocode--success"))}),l&&l.addEventListener("input",()=>{l.parentNode.parentNode.classList.contains("promocode--success")&&l.parentNode.parentNode.classList.remove("promocode--success")});const c=document.querySelectorAll(".quantity"),d=document.getElementsByClassName("quantity__minus"),a=document.getElementsByClassName("quantity__plus");let p=document.getElementsByClassName("quantity__number");c&&c.forEach((e,t)=>{d[t].addEventListener("click",()=>{1*p[t].value>=1&&(p[t].value=1*p[t].value-1)}),a[t].addEventListener("click",()=>{p[t].value=1*p[t].value+1})});const m=document.querySelectorAll(".select-box__selected"),u=document.querySelectorAll(".select-box__option");m&&m.forEach(e=>{const t=()=>{document.querySelectorAll(".select-box__container").forEach(e=>e.classList.remove("select-box__container--active")),document.querySelectorAll(".select-box__selected").forEach(e=>e.classList.remove("select-box__selected--active"))},o=((e,t)=>{const o=o=>{let r=o.target;for(;r&&!e.includes(r);)r=r.parentNode;r||(t(),n())};function n(){document.documentElement.removeEventListener("click",o)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",o)},removeBodyChecker:n}})([e.parentNode.parentNode.parentNode,...m],t);e.addEventListener("click",()=>{e.previousElementSibling.classList.contains("select-box__container--active")?t():(t(),e.previousElementSibling.classList.add("select-box__container--active"),e.classList.add("select-box__selected--active"),o.setBodyChecker())})}),u&&u.forEach(e=>{e.addEventListener("click",t=>{if(t.preventDefault(),!e.classList.contains("select-box__option--disabled")){e.parentNode.querySelector(".select-box__option--active").classList.remove("select-box__option--active"),e.parentNode.nextElementSibling.innerHTML=e.querySelector("label").innerHTML,e.classList.add("select-box__option--active"),e.parentNode.classList.remove("select-box__container--active"),e.parentNode.nextElementSibling.classList.remove("select-box__selected--active")}})});const y=document.querySelector(".scroll-total__btn"),v=document.querySelectorAll(".cart-product__item");y&&v&&v.length<2&&y.parentNode.classList.add("scroll-total--hidden"),y&&y.addEventListener("click",()=>{o("ordering"),y.parentNode.classList.add("scroll-total--hidden")}),window.addEventListener("scroll",()=>{if(v&&v.length>1){const e=t("ordering");window.pageYOffset>=e-300?y.parentNode.classList.add("scroll-total--hidden"):window.pageYOffset<e-500&&y.parentNode.classList.remove("scroll-total--hidden")}});const g=document.querySelectorAll(".accordion-cart__trigger");g&&g.forEach(e=>{e.addEventListener("click",t=>{if(t.preventDefault(),e.parentNode.classList.contains("is--open"))n(e.nextElementSibling);else{if(document.querySelector(".accordion-cart__item.is--open")){let e=document.querySelector(".accordion-cart__item.is--open");n(e.childNodes[e.childNodes.length-1].previousElementSibling)}r(e.nextElementSibling)}})})}));